from next.templates import djx

from django.http import HttpRequest
from django.shortcuts import get_object_or_404


djx % """
<h1>Product details</h1>
<h2>{{ product.title }}

<p>{{ product.description }}</p>
"""


@djx.context
def common_context_with_custom_name(request: HttpRequest, *args, **kwargs):
    id: int | None = kwargs.get("id")
    product = get_object_or_404(Product, id=id)

    return {
        "product": product
    }
